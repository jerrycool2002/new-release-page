<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <!-- Meta tags for social media banners, these should be filled in appropriatly as they are your "business card" -->
  <!-- Replace the content tag with appropriate information -->
  <!-- <meta name="description" content="DESCRIPTION META TAG">
  <meta property="og:title" content="SOCIAL MEDIA TITLE TAG"/>
  <meta property="og:description" content="SOCIAL MEDIA DESCRIPTION TAG TAG"/>
  <meta property="og:url" content="URL OF THE WEBSITE"/>
  <!-- Path to banner image, should be in the path listed below. Optimal dimenssions are 1200X630-->
  <!-- <meta property="og:image" content="static/images/1.jpg" />
  <meta property="og:image:width" content="1200"/>
  <meta property="og:image:height" content="630"/> --> 


  <!-- <meta name="twitter:title" content="TWITTER BANNER TITLE META TAG">
  <meta name="twitter:description" content="TWITTER BANNER DESCRIPTION META TAG">
  <!-- Path to banner image, should be in the path listed below. Optimal dimenssions are 1200X600-->
  <!-- <meta name="twitter:image" content="static/images/your_twitter_banner_image.png">
  <meta name="twitter:card" content="summary_large_image">
  <!-- Keywords for your paper to be indexed by-->
  <!-- <meta name="keywords" content="LLMs, Adaptation">
  <meta name="viewport" content="width=device-width, initial-scale=1"> --> 


  <title>MLE-Dojo</title>
  <link rel="icon" type="image/x-icon" href="static/images/1.jpg">
  <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro"
  rel="stylesheet">

  <link rel="stylesheet" href="static/css/bulma.min.css">
  <link rel="stylesheet" href="static/css/bulma-carousel.min.css">
  <link rel="stylesheet" href="static/css/bulma-slider.min.css">
  <link rel="stylesheet" href="static/css/fontawesome.all.min.css">
  <link rel="stylesheet"
  href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  <link rel="stylesheet" href="static/css/index.css">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://documentcloud.adobe.com/view-sdk/main.js"></script>
  <script defer src="static/js/fontawesome.all.min.js"></script>
  <script src="static/js/bulma-carousel.min.js"></script>
  <script src="static/js/bulma-slider.min.js"></script>
  <script src="static/js/index.js"></script>
</head>
<body>


  <section class="hero">
    <div class="hero-body">
      <div class="container is-max-desktop">
        <div class="columns is-centered">
          <div class="column has-text-centered">
            <h1 class="title is-1 publication-title" style="font-size: 2.9em; font-weight: bold;"><img src="static/images/1.jpg" alt="Alt text" style="height: 1.5em; vertical-align: middle;" />EHRAgent<br><span style="font-size: 0.8em; font-weight: normal;"> Code Empowers Large Language Models for Few-shot Complex Tabular Reasoning on Electronic Health Records</span></h1>
            <div class="is-size-5 publication-authors">
              <!-- Paper authors -->
              <span class="author-block">
                <a href="https://wshi83.github.io/" target="_blank">Wenqi Shi</a><sup>1*</sup>,</span>
              <span class="author-block">
                <a href="https://ritaranx.github.io/" target="_blank">Ran Xu</a><sup>2*</sup>,</span>
              <span class="author-block">
                <a href="https://night-chen.github.io" target="_blank">Yuchen Zhuang</a><sup>1</sup>,</span>
              <span class="author-block">
                <a href="https://yueyu1030.github.io/" target="_blank">Yue Yu</a><sup>1</sup>,</span>
              <span class="author-block">
                <a href="https://jieyuz2.github.io/" target="_blank">Jieyu Zhang</a><sup>3</sup>,</span>      
              <span class="author-block">
                <a href="https://scholar.google.com/citations?hl=en&user=3gVKIOwAAAAJ&view_op=list_works&sortby=pubdate" target="_blank">Hang Wu</a><sup>1</sup>,</span>      
              <span class="author-block">
                <a href="https://scholar.google.com/citations?hl=en&user=uYPzS5MAAAAJ&view_op=list_works&sortby=pubdate" target="_blank">Yuanda Zhu</a><sup>1</sup>,</span>     
              <span class="author-block">
                <a href="https://joyceho.github.io/" target="_blank">Joyce C. Ho</a><sup>2</sup>,</span>     
              <span class="author-block">
                <a href="https://cs.emory.edu/~jyang71/" target="_blank">Carl Yang</a><sup>2</sup>,</span>     
              <span class="author-block">
                <a href="https://bme.gatech.edu/bme/faculty/May-Dongmei-Wang" target="_blank">May D. Wang</a><sup>1</sup>
                  </span>
                  
                  </div>

                  <div class="is-size-5 publication-authors">
                    <span class="author-block"><sup>1</sup>Georgia Institute of Technology,</span>
                    <span class="author-block"><sup>2</sup>Emory University,</span>
                    <span class="author-block"><sup>3</sup>University of Washington</span>
                    <span class="eql-cntrb"><small><br><sup>*</sup>Indicates Equal Contribution</small></span>
                  </div>

                  <div class="column has-text-centered">
                    <div class="publication-links">
                         <!-- Arxiv PDF link -->
                      <span class="link-block">
                        <a href="https://arxiv.org/pdf/2401.07128.pdf" target="_blank"
                        class="external-link button is-normal is-rounded is-dark">
                        <span class="icon">
                          <i class="fas fa-file-pdf"></i>
                        </span>
                        <span>Paper</span>
                      </a>
                    </span>

                    <!-- Supplementary PDF link
                    <span class="link-block">
                      <a href="static/pdfs/supplementary_material.pdf" target="_blank"
                      class="external-link button is-normal is-rounded is-dark">
                      <span class="icon">
                        <i class="fas fa-file-pdf"></i>
                      </span>
                      <span>Supplementary</span>
                    </a>
                  </span> -->

                  <!-- Github link -->
                  <span class="link-block">
                    <a href="https://github.com/wshi83/EhrAgent" target="_blank"
                    class="external-link button is-normal is-rounded is-dark">
                    <span class="icon">
                      <i class="fab fa-github"></i>
                    </span>
                    <span>Code</span>
                  </a>
                </span>

                <!-- ArXiv abstract Link -->
                <span class="link-block">
                  <a href="https://arxiv.org/abs/2401.07128" target="_blank"
                  class="external-link button is-normal is-rounded is-dark">
                  <span class="icon">
                    <i class="ai ai-arxiv"></i>
                  </span>
                  <span>arXiv</span>
                </a>
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>


<!-- Teaser video-->
<section class="hero teaser">
  <div class="container is-max-desktop">
    <div class="hero-body">
        <!-- Your video here -->
        <img src="static/images/EHRAgent-video.gif" alt="MY ALT TEXT"/>
      <h2 class="subtitle has-text-centered">
        EHRAgent is an autonomous LLM agent with external tools and code interface for improved multi-tabular reasoning across EHRs.       </h2>
    </div>
  </div>
</section>
<!-- End teaser video -->

<!-- Paper abstract -->
<section class="section hero is-light">
  <div class="container is-max-desktop">
    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3">Abstract</h2>
        <div class="content has-text-justified">
          <p>
            Large language models (LLMs) have demonstrated exceptional capabilities in planning and tool utilization as autonomous agents, but few have been developed for medical problem-solving. We propose EHRAgent, an LLM agent empowered with a code interface, to autonomously generate and execute code for multi-tabular reasoning within electronic health records (EHRs). First, we formulate an EHR question-answering task into a tool-use planning process, efficiently decomposing a complicated task into a sequence of manageable actions. By integrating interactive coding and execution feedback, EHRAgent learns from error messages and improves the originally generated code through iterations. Furthermore, we enhance the LLM agent by incorporating long-term memory, which allows EHRAgent to effectively select and build upon the most relevant successful cases from past experiences. Experiments on three real-world multi-tabular EHR datasets show that EHRAgent outperforms the strongest baseline by up to 29.6% in success rate. EHRAgent leverages the emerging few-shot learning capabilities of LLMs, enabling autonomous code generation and execution to tackle complex clinical tasks with minimal demonstrations.          </p>
        </div>
      </div>
    </div>
  </div>
</section>
<!-- End paper abstract -->

<section class="section" id="Examples">
  <div class="container is-max-desktop content">
    <h2 class="title">Examples</h2>
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Dropdown Example</title>
      <style>
        .dropdown-container {
          margin: 20px;
          padding: 10px;
        }
        select {
          width: 200px;
          padding: 5px;
          margin-right: 10px;
        }
        .figure img {
          max-width: 100%;
          height: auto;
        }

        .visible {
          display: block;
        }
      </style>
      </head>
      <body>
      
      <div class="dropdown-container">
        <label for="exampleSelector">Select the example:</label>
        <br>
        <select id="exampleSelector" name="exampleSelector">
          <option value="">--Select--</option>
          <option value="example0">Example 0: MIMIC-III</option>
          <option value="example1">Example 1: MIMIC-III</option>
          <option value="example2">Example 2: eICU</option>
          <option value="example3">Example 3: eICU</option>
          <option value="example4">Example 4: TREQS</option>
          <option value="example5">Example 5: TREQS</option>
          <!-- Add other options here -->
        </select>
      </div>
      <div id="example0" class="figure" style="display:none;">
        <img src="static/images/web-mimiciii-case1.gif" alt="Image 1">
      </div>
      <div id="example1" class="figure" style="display:none;">
        <img src="static/images/web-mimiciii-case2.gif" alt="Image 2">
      </div>
      <div id="example2" class="figure" style="display:none;">
        <img src="static/images/web-eicu-case3.gif" alt="Image 3">
      </div>
      <div id="example3" class="figure" style="display:none;">
        <img src="static/images/web-eicu-case4.gif" alt="Image 4">
      </div>
      <div id="example4" class="figure" style="display:none;">
        <img src="static/images/web-treqs-case5.gif" alt="Image 5">
      </div>
      <div id="example5" class="figure" style="display:none;">
        <img src="static/images/web-treqs-case6.gif" alt="Image 6">
      </div>
    </div>
    <script>
      document.getElementById('exampleSelector').addEventListener('change', function() {
          // Hide all figures first
          document.querySelectorAll('.figure').forEach(function(figure) {
              figure.style.display = 'none';
          });

          // Show the selected figure
          var selectedFigure = document.getElementById(this.value);
          if (selectedFigure) {
              selectedFigure.style.display = 'block';
          }
      });
  </script>
      </body>
  </div>
</section>

<section class="section" id="BibTeX">
  <div class="container is-max-desktop content">
    <h2 class="title">Main Results</h2>
    EHRAgent significantly outperforms all the baselines on all three datasets with a performance gain of <b>19.92%</b>, <b>12.41%</b>, and <b>29.60%</b>, respectively. This indicates the efficacy of our key designs, namely interactive coding with environment feedback and domain knowledge injection, as they gradually refine the generated code and provide sufficient back ground knowledge during the planning process.
    <br><br>
    <div style="display: block; justify-content: center;">
      <img src="static/images/main-results.png" alt="MY ALT TEXT">
  </div>
  <style>
    .image-row {
            display: flex;
            justify-content: space-around; /* This will space out the images evenly */
        }
    .image-row img {
        max-width: 24%; /* Adjust based on your preference and the container size */
        height: auto; /* This will maintain the aspect ratio of the images */
    }
  </style>
    <h2 class="title">Effect of Question Complexity</h2>
    <div class="image-row">
      <img src="static/images/line_q_tag_sr-v2.png" alt="MY ALT TEXT">
      <img src="static/images/line_q_tag_cr-v2.png" alt="MY ALT TEXT">
      <img src="static/images/line_column_sr-v2.png" alt="MY ALT TEXT">
      <img src="static/images/line_column_cr-v2.png" alt="MY ALT TEXT">
    </div>
    <br>
    We take a closer look at the model performance by considering multi-dimensional measurements of question complexity, exhibited in Figure 3. Although the performances of both EHRAgent and the baselines gener-ally decrease with an increase in task complexity (either quantified as more elements in queries or more columns in solutions), EHRAgent consistently outperforms all the baselines at various levels of difficulty. 
    <h2 class="title">Sample Efficiency</h2>
    <div class="image-row">
      <img src="static/images/line_demo_sr-v3.png" alt="MY ALT TEXT">
      <img src="static/images/line_demo_cr-v3.png" alt="MY ALT TEXT">
    </div>
    <br>
    The above figure illustrates the model performance wrt. number of demonstrations for EHRAgent and the two strongest baselines, AutoGen and Self-Debugging. Compared to supervised learning (e.g., text-to-SQL) that requires extensive training on over 10K samples with detailed annotations (e.g., SQL code), LLM agents enable complex tabular reasoning using a few demonstrations only. One interesting finding is that as the number of examples increases, both the success and completion rate of AutoGen tend to decrease, mainly due to the context limitation of LLMs. Notably, the performance of EHRAgent remains stable with more demonstrations, which may benefit from its integration of a rubber duck debugging module and the adaptive mechanism for selecting the most relevant demonstrations. 
  </div>
</section>

<section class="section" id="Cases">
  <div class="container is-max-desktop content">
    <h2 class="title">Case Studies</h2>
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Dropdown Case</title>
      <style>
        .dropdown-container {
          margin: 20px;
          padding: 10px;
        }
        select {
          width: 200px;
          padding: 5px;
          margin-right: 10px;
        }
        .figure img {
          max-width: 100%;
          height: auto;
        }

        .visible {
          display: block;
        }
      </style>
      </head>
      <body>
      
      <div class="dropdown-container">
        <label for="caseSelector">Select the case:</label>
        <br>
        <select id="caseSelector" name="caseSelector">
          <option value="">--Select--</option>
          <option value="case0">Case 0: Complexity-I</option>
          <option value="case1">Case 1: Complexity-II</option>
          <option value="case2">Case 2: Complexity-III</option>
          <option value="case3">Case 3: Complexity-IV</option>
          <option value="case4">Case 4: Code-I</option>
          <option value="case5">Case 5: Code-II</option>
          <option value="case6">Case 6: Debug</option>
          <option value="case7">Case 7: Knowledge</option>
          <option value="case8">Case 8: Main</option>
          <option value="case9">Case 9: Memory</option>
          <!-- Add other options here -->
        </select>
      </div>
      <div id="case0" class="figure" style="display:none;">
        <img src="static/images/acl24-case-I.png" alt="Image 1">
      </div>
      <div id="case1" class="figure" style="display:none;">
        <img src="static/images/acl24-case-II.png" alt="Image 2">
      </div>
      <div id="case2" class="figure" style="display:none;">
        <img src="static/images/acl24-case-III.png" alt="Image 3">
      </div>
      <div id="case3" class="figure" style="display:none;">
        <img src="static/images/acl24-case-IV.png" alt="Image 4">
      </div>
      <div id="case4" class="figure" style="display:none;">
        <img src="static/images/acl24-case-code1.png" alt="Image 5">
      </div>
      <div id="case5" class="figure" style="display:none;">
        <img src="static/images/acl24-case-code2.png" alt="Image 6">
      </div>
      <div id="case6" class="figure" style="display:none;">
        <img src="static/images/acl24-case-debug.png" alt="Image 7">
      </div>
      <div id="case7" class="figure" style="display:none;">
        <img src="static/images/acl24-case-knowledge.png" alt="Image 8">
      </div>
      <div id="case8" class="figure" style="display:none;">
        <img src="static/images/acl24-case-main.png" alt="Image 9">
      </div>
      <div id="case9" class="figure" style="display:none;">
        <img src="static/images/acl24-case-memory.png" alt="Image 10">
      </div>
    </div>
    <script>
      document.getElementById('caseSelector').addEventListener('change', function() {
          // Hide all figures first
          document.querySelectorAll('.figure').forEach(function(figure) {
              figure.style.display = 'none';
          });

          // Show the selected figure
          var selectedFigure = document.getElementById(this.value);
          if (selectedFigure) {
              selectedFigure.style.display = 'block';
          }
      });
  </script>
      </body>
  </div>
</section>










<!--BibTex citation -->
  <section class="section" id="BibTeX">
    <div class="container is-max-desktop content">
      <h2 class="title">BibTeX</h2>
      <pre><code>@misc{shi2024ehragent,
        title={EHRAgent: Code Empowers Large Language Models for Complex Tabular Reasoning on Electronic Health Records}, 
        author={Wenqi Shi and Ran Xu and Yuchen Zhuang and Yue Yu and Jieyu Zhang and Hang Wu and Yuanda Zhu and Joyce Ho and Carl Yang and May D. Wang},
        year={2024},
        eprint={2401.07128},
        archivePrefix={arXiv},
        primaryClass={cs.CL}
  }</code></pre>
    </div>
</section>
<!--End BibTex citation -->


 
  </body>
  </html>
